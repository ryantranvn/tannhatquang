function lastUrl(){return arrUrl=window.location.pathname.split("/"),url=""==arrUrl[arrUrl.length-1]?arrUrl[arrUrl.length-2]:arrUrl[arrUrl.length-1],url}function scrollup(){$(window).scroll(function(){$(this).scrollTop()>100?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(){return $("html, body").animate({scrollTop:0},600),!1})}function nowDate(){var e=new Date,t=new Array(7);t[0]="Chủ Nhật",t[1]="Thứ Hai",t[2]="Thứ Ba",t[3]="Thứ Tư",t[4]="Thứ Năm",t[5]="Thứ Sáu",t[6]="Thứ Bảy",document.write(t[e.getDay()]+", "+e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear())}function myDatePicker(e){e.datepicker({dateFormat:"dd-mm-yy",changeMonth:!0,changeYear:!0,minDate:"-Y",maxDate:"31-12-2030",defaultDate:new Date})}function trim_space(e){return e.replace(/\s+/g," ").trim()}function cut_string(e,t,r){for(obj=new Array,i=0;i<t;i++)obj[i]=$(e+":eq("+i+")").text();jQuery.each(obj,function(t,n){if(arr_str=n.split(" "),arr_str.length>r){for(chuoi="",i=0;i<r;i++)chuoi+=arr_str[i]+" ";$(e+":eq("+t+")").text(chuoi+"...")}})}function randString(e,t){e||(e=5);var r="";if("alpha"==t)var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";else if("alphaNum"==t)var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;e>i;i++)r+=String(n).charAt(Math.floor(Math.random()*String(n).length));return r}function randPassword(e){e||(e=5);for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()",n=0;e>n;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function make_url(e){return e=e.toLowerCase(),e=e.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),e=e.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),e=e.replace(/ì|í|ị|ỉ|ĩ/g,"i"),e=e.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),e=e.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),e=e.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),e=e.replace(/đ/g,"d"),e=e.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g,"-"),e=e.replace(/-+-/g,"-"),e=e.replace(/^\-+|\-+$/g,"")}function fill_url(e,t){t.val(make_url(e))}function gen_url(e,t){e.blur(function(){value=$(this).val(),fill_url(value,t)})}function genRanNum(e,t){var r=Math.floor(Math.random()*(t-e+1))+e;return 4>r&&r>-4?GenerateRandomNumber():r}function reset_form(e){e.ready(function(){e.find('input[type="text"], textarea').val("").find('input[type="checkbox"]').attr("checked","checked")})}function preventUnicode(e){var t=e.val();t=t.toLowerCase(),t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i"),t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),t=t.replace(/đ/g,"d"),t=t.replace(/!|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\:|\;|\'| |\"|\&|\#|\[|\]|~|$/g,""),t=t.replace(/^[0-9]/g,""),t=t.replace(/^@/g,""),e.val(t)}function preventBeginWith(e,t){$("body").on("keypress",e,function(r){0==$.trim($(e).val()).length&&r.keyCode==t&&r.preventDefault()})}function preventLongMore_Number(e,t){$("body").on("keypress",e,function(r){$.trim($(e).val()).length>0&&$.trim($(e).val()).length>=t&&r.preventDefault()})}function preventLongMore(e,t){$("body").on("keypress","."+e,function(r){$.trim($("."+e).val()).length>0&&$.trim($("."+e).val()).length>=$.trim($("."+t).val()).length&&r.preventDefault()})}function isUrl(e){return/^(http(s)?:\/\/)?(www\.)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(e)}function getWordCount(e){var t=e.split(" ");return t=t.filter(function(e){return e.length>0}).length}function justAlphaNum(e){e.keypress(function(e){var t=e.keyCode||e.which;return 8==t||t>=65&&90>=t||t>=97&&122>=t||t>=48&&58>=t||44==t?!0:void e.preventDefault()})}function disableEnter(e){e.keypress(function(e){13==e.keyCode&&e.preventDefault()})}function isFunction(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function clearconsole(){console.log(window.console),(window.console||window.console.firebug)&&console.clear()}function getYouTubeIDFromURL(e){if(-1!=e.indexOf("www.youtube.com/"))return console.log(e.match(/\?v=([^&]*)/)[1]),e.match(/\?v=([^&]*)/)[1];var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,r=e.match(t);return r&&11==r[7].length?(console.log(r[7]),r[7]):void alert("Url incorrecta")}function addLink(){var e=document.getElementsByTagName("body")[0],t;t=window.getSelection();var r="<br /><br /> Nguồn bài viết : <a href='"+document.location.href+"'>"+document.location.href+"</a>",n=t+r,i=document.createElement("div");i.style.position="absolute",i.style.left="-99999px",e.appendChild(i),i.innerHTML=n,t.selectAllChildren(i),window.setTimeout(function(){e.removeChild(i)},0)}function clickOut(e,t){$(document).mouseup(function(r){r.stopPropagation();var n=r.target;0===e.has(r.target).length&&"function"==typeof t&&t()})}var fUrl=window.location.protocol+"//"+window.location.host+"/",assetsUrl=fUrl+"assets/",bUrl=fUrl+"backend/",apiUrl=fUrl+"api/",libsUrl=fUrl+"library/",uploadDir=fUrl+"upload/";jQuery.validator.addMethod("notEqualValue",function(e,t,r){return this.optional(t)||e!=r},"Please specify a different (non-default) value"),jQuery.validator.addMethod("wordCount",function(e,t,r){var n=getWordCount(e);return n>=r[0]?!0:void 0},"A minimum of {0} words is required here.");var ie=function(){for(var e,t=3,r=document.createElement("div"),n=r.getElementsByTagName("i");r.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",n[0];);return t>4?t:e}(),BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var r=e[t].string;if(this.versionSearchString=e[t].subString,-1!=r.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init(),$.fn.findButNotInside=function(e){var t=$(this);return t.find(e).filter(function(){var r=$(this).parent().closest(e);return 0==r.length||0==t.find(r).length})};