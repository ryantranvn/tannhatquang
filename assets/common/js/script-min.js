function lastUrl(){return arrUrl=window.location.pathname.split("/"),url=""==arrUrl[arrUrl.length-1]?arrUrl[arrUrl.length-2]:arrUrl[arrUrl.length-1],url}function scrollup(){$(window).scroll(function(){$(this).scrollTop()>100?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(){return $("html, body").animate({scrollTop:0},600),!1})}function nowDate(){var e=new Date,r=new Array(7);r[0]="Chủ Nhật",r[1]="Thứ Hai",r[2]="Thứ Ba",r[3]="Thứ Tư",r[4]="Thứ Năm",r[5]="Thứ Sáu",r[6]="Thứ Bảy",document.write(r[e.getDay()]+", "+e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear())}function myDatePicker(e){e.datepicker({dateFormat:"dd-mm-yy",changeMonth:!0,changeYear:!0,minDate:"-Y",maxDate:"31-12-2030",defaultDate:new Date})}function cut_string(e,r,t){for(obj=new Array,i=0;i<r;i++)obj[i]=$(e+":eq("+i+")").text();jQuery.each(obj,function(r,n){if(arr_str=n.split(" "),arr_str.length>t){for(chuoi="",i=0;i<t;i++)chuoi+=arr_str[i]+" ";$(e+":eq("+r+")").text(chuoi+"...")}})}function randString(e,r){e||(e=5);var t="";if("alpha"==r)var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";else if("alphaNum"==r)var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var o=0;e>o;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function randPassword(e){e||(e=5);for(var r="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()",n=0;e>n;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}function make_url(e){return e=e.toLowerCase(),e=e.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),e=e.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),e=e.replace(/ì|í|ị|ỉ|ĩ/g,"i"),e=e.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),e=e.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),e=e.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),e=e.replace(/đ/g,"d"),e=e.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g,"-"),e=e.replace(/-+-/g,"-"),e=e.replace(/^\-+|\-+$/g,"")}function fill_url(e,r){r.val(make_url(e))}function gen_url(e,r){e.blur(function(){value=$(this).val(),fill_url(value,r)})}function genRanNum(e,r){var t=Math.floor(Math.random()*(r-e+1))+e;return 4>t&&t>-4?GenerateRandomNumber():t}function reset_form(e){e.ready(function(){e.find('input[type="text"], textarea').val("").find('input[type="checkbox"]').attr("checked","checked")})}function preventUnicode(e){var r=e.val();r=r.toLowerCase(),r=r.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),r=r.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),r=r.replace(/ì|í|ị|ỉ|ĩ/g,"i"),r=r.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),r=r.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),r=r.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),r=r.replace(/đ/g,"d"),r=r.replace(/!|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\:|\;|\'| |\"|\&|\#|\[|\]|~|$/g,""),r=r.replace(/^[0-9]/g,""),r=r.replace(/^@/g,""),e.val(r)}function isUrl(e){return/^(http(s)?:\/\/)?(www\.)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(e)}function getWordCount(e){var r=e.split(" ");return r=r.filter(function(e){return e.length>0}).length}function justAlphaNum(e){e.keypress(function(e){var r=e.keyCode||e.which;return 8==r||r>=65&&90>=r||r>=97&&122>=r||r>=48&&58>=r||44==r?!0:void e.preventDefault()})}function disableEnter(e){e.keypress(function(e){13==e.keyCode&&e.preventDefault()})}function isFunction(e){var r={};return e&&"[object Function]"===r.toString.call(e)}function clearconsole(){console.log(window.console),(window.console||window.console.firebug)&&console.clear()}function getYouTubeIDFromURL(e){if(-1!=e.indexOf("www.youtube.com/"))return console.log(e.match(/\?v=([^&]*)/)[1]),e.match(/\?v=([^&]*)/)[1];var r=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,t=e.match(r);return t&&11==t[7].length?(console.log(t[7]),t[7]):void alert("Url incorrecta")}function addLink(){var e=document.getElementsByTagName("body")[0],r;r=window.getSelection();var t="<br /><br /> Nguồn bài viết : <a href='"+document.location.href+"'>"+document.location.href+"</a>",n=r+t,o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",e.appendChild(o),o.innerHTML=n,r.selectAllChildren(o),window.setTimeout(function(){e.removeChild(o)},0)}function clickOut(e,r){$(document).mouseup(function(t){t.stopPropagation();var n=t.target;0===e.has(t.target).length&&"function"==typeof r&&r()})}var fUrl=window.location.protocol+"//"+window.location.host+"/",bUrl=fUrl+"backend/",libsUrl=window.location.protocol+"//"+window.location.host+"/library/",uploadDir=fUrl+"upload/";jQuery.validator.addMethod("notEqualValue",function(e,r,t){return this.optional(r)||e!=t},"Please specify a different (non-default) value"),jQuery.validator.addMethod("wordCount",function(e,r,t){var n=getWordCount(e);return n>=t[0]?!0:void 0},"A minimum of {0} words is required here.");var ie=function(){for(var e,r=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++r+"]><i></i><![endif]-->",n[0];);return r>4?r:e}(),BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var r=0;r<e.length;r++){var t=e[r].string;if(this.versionSearchString=e[r].subString,-1!=t.indexOf(e[r].subString))return e[r].identity}},searchVersion:function(e){var r=e.indexOf(this.versionSearchString);if(-1!=r)return parseFloat(e.substring(r+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init();