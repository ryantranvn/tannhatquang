if($(idTableList).length>0){var activeStr=":All;active:Active;inactive:Inactive;block:Block";"admin"==authMember.username?caption=captionButton(!0,!1):caption=captionButton(!1,!1),jQuery("#jqgrid").jqGrid({url:bUrl+currentModule.url+"/ajax_list?q=2",datatype:"json",height:"auto",autowidth:!0,shrinkToFit:!1,gridResize:!0,autoResizeAllColumns:!0,iconSet:"fontAwesome",colNames:["Status","ID","Username","Avatar","Created Datetime","Action"],colModel:[{name:"status",index:"status",align:"center",width:"100",stype:"select",searchoptions:{sopt:["eq"],value:activeStr}},{name:"id",index:"id",search:!0,align:"center",width:"60",hidden:!0},{name:"username",index:"username",align:"left",search:!0,width:"200"},{name:"thumbnail",index:"thumbnail",align:"center",search:!1,width:"100"},{name:"created_datetime",index:"created_datetime",align:"center",search:!1,width:"150"},{name:"act",index:"act",editable:!1,search:!1,width:"80",align:"center"}],rownumbers:!0,rowNum:defaultNumRows,rowList:[10,20,defaultNumRows],pager:idPager,sortname:"id",sortorder:"asc",toolbarfilter:!0,viewrecords:!0,loadBeforeSend:function(){$(this).closest("div.ui-jqgrid-view").find("table.ui-jqgrid-htable>thead>tr>th").css({"text-align":"center"})},gridComplete:function(){for(var e=jQuery("#jqgrid").jqGrid("getDataIDs"),i=0;i<e.length;i++){var s=e[i],r=jQuery(idTableList).jqGrid("getRowData",s);if(1==r.id){var n=btnEditInline(s);o=""}else if(r.id==authMember.id){var n=btnEditInline(s);o=""}else{$("tr#"+r.id).children("td:eq(1)").html("");var n=btnEditInline(s)+bntDeleteInline(s),o=formatButton(s,r.status,"btnStatus_","btnStatus","modalStatus")}var t='<img src="'+uploadDir+'.thumbs/images/member/avatar.png" class="thumbInTable" />';""!=r.thumbnail&&(t='<img src="'+r.thumbnail+'" class="thumbInTable" />'),jQuery("#jqgrid").jqGrid("setRowData",e[i],{status:o,thumbnail:t,act:n})}click_btnInGrid("btnStatus","modalStatus",bUrl+"member/ajax_status",function(){location.reload()})},ajaxRowOptions:{async:!0},caption:caption,multiselect:!0}),tableCommon(),$("body").on("click",".btnDelete",function(e){e.preventDefault(),href=$(this).attr("href"),showSmartAlert("Warning","<p>Are you sure delete this data ?</p>","[NO][YES]",function(){window.location.href=href},function(){})}),$("body").on("click","#btnMultiDelete",function(e){e.preventDefault(),href=$(this).attr("href"),selectedRows=jQuery(idTableList).jqGrid("getGridParam","selarrrow"),0==selectedRows.length?showSmartAlert("Error","Please select data.","[YES]"):showSmartAlert("Warning","<p>Are you sure delete data ?</p>","[NO][YES]",function(){$("#ids").val(selectedRows),$("#frmTopButtons").submit()},function(){})})}if($("#frmMember").length>0){$("#change_password").length>0&&$(".password_contain").children("fieldset").hide(),$("body").on("click","#change_password",function(e){e.preventDefault(),$(".password_contain").children(".row:first").hide(),$(".password_contain").children("fieldset").show()}),$("body").on("focus",'input[name="password"]',function(){$(this).prop("type","password").val(""),$('input[name="confirm_password"]').prop("type","password").val("")}),$("body").on("click","#randomPass",function(){ranPass=randString(6,"alpha"),$('input[name="password"]').prop("type","text").val(ranPass),$('input[name="confirm_password"]').prop("type","text").val(ranPass)}),selectFile(".btnSelectThumbnail","images"),$("body").on("click",".thumbnailDel",function(e){e.preventDefault(),thumbnailWrapper=$(this).parent(".thumbnailItem").parent(".thumbnailWrapper"),inputThumbnail=thumbnailWrapper.prev().children(".inputThumbnail"),inputThumbnail.val(""),thumbnailWrapper.html("").html(defaultIMG)}),$("body").on("click",".permissionFull",function(){group=$(this).parent("label").parent(".checkbox").parent(".form-group"),permissionFull=group.find(".checkbox .permissionFull"),permissionRead=group.find(".checkbox .permissionRead"),permissionAdd=group.find(".checkbox .permissionAdd"),permissionEdit=group.find(".checkbox .permissionEdit"),permissionDelete=group.find(".checkbox .permissionDelete"),$(this).is(":checked")?(permissionRead.prop("checked","checked"),permissionAdd.prop("checked","checked"),permissionEdit.prop("checked","checked"),permissionDelete.prop("checked","checked")):(permissionRead.prop("checked",""),permissionAdd.prop("checked",""),permissionEdit.prop("checked",""),permissionDelete.prop("checked",""))}),$("body").on("click",".permissionRead",function(){group=$(this).parent("label").parent(".checkbox").parent(".form-group"),permissionFull=group.find(".checkbox .permissionFull"),permissionRead=group.find(".checkbox .permissionRead"),permissionAdd=group.find(".checkbox .permissionAdd"),permissionEdit=group.find(".checkbox .permissionEdit"),permissionDelete=group.find(".checkbox .permissionDelete"),permissionFull.is(":checked")?(permissionFull.prop("checked",""),permissionRead.prop("checked","checked"),permissionAdd.prop("checked",""),permissionEdit.prop("checked",""),permissionDelete.prop("checked","")):permissionRead.is(":checked")&&permissionAdd.is(":checked")&&permissionEdit.is(":checked")&&permissionDelete.is(":checked")?permissionFull.prop("checked","checked"):permissionRead.is(":checked")||(permissionAdd.prop("checked",""),permissionEdit.prop("checked",""),permissionDelete.prop("checked",""))}),$("body").on("click",".permissionAdd",function(){group=$(this).parent("label").parent(".checkbox").parent(".form-group"),permissionFull=group.find(".checkbox .permissionFull"),permissionRead=group.find(".checkbox .permissionRead"),permissionAdd=group.find(".checkbox .permissionAdd"),permissionEdit=group.find(".checkbox .permissionEdit"),permissionDelete=group.find(".checkbox .permissionDelete"),permissionFull.is(":checked")?(permissionFull.prop("checked",""),permissionRead.prop("checked","checked"),permissionAdd.prop("checked","checked"),permissionEdit.prop("checked",""),permissionDelete.prop("checked","")):permissionRead.is(":checked")&&permissionAdd.is(":checked")&&permissionEdit.is(":checked")&&permissionDelete.is(":checked")?permissionFull.prop("checked","checked"):permissionAdd.is(":checked")?permissionRead.is(":checked")||permissionRead.prop("checked","checked"):permissionEdit.prop("checked","")}),$("body").on("click",".permissionEdit",function(){group=$(this).parent("label").parent(".checkbox").parent(".form-group"),permissionFull=group.find(".checkbox .permissionFull"),permissionRead=group.find(".checkbox .permissionRead"),permissionAdd=group.find(".checkbox .permissionAdd"),permissionEdit=group.find(".checkbox .permissionEdit"),permissionDelete=group.find(".checkbox .permissionDelete"),permissionFull.is(":checked")?(permissionFull.prop("checked",""),permissionRead.prop("checked","checked"),permissionAdd.prop("checked","checked"),permissionEdit.prop("checked","checked"),permissionDelete.prop("checked","")):permissionRead.is(":checked")&&permissionAdd.is(":checked")&&permissionEdit.is(":checked")&&permissionDelete.is(":checked")?permissionFull.prop("checked","checked"):permissionEdit.is(":checked")&&(permissionRead.prop("checked","checked"),permissionAdd.prop("checked","checked"))}),$("body").on("click",".permissionDelete",function(){group=$(this).parent("label").parent(".checkbox").parent(".form-group"),permissionFull=group.find(".checkbox .permissionFull"),permissionRead=group.find(".checkbox .permissionRead"),permissionAdd=group.find(".checkbox .permissionAdd"),permissionEdit=group.find(".checkbox .permissionEdit"),permissionDelete=group.find(".checkbox .permissionDelete"),permissionFull.is(":checked")?(permissionFull.prop("checked",""),permissionRead.prop("checked","checked"),permissionAdd.prop("checked",""),permissionEdit.prop("checked",""),permissionDelete.prop("checked","checked")):permissionRead.is(":checked")&&permissionAdd.is(":checked")&&permissionEdit.is(":checked")&&permissionDelete.is(":checked")&&permissionFull.prop("checked","checked")});var $validator=$("#frmMember").validate({rules:{username:{required:!0,maxlength:255},old_password:{minlength:3,maxlength:20},password:{required:!0,minlength:3,maxlength:20},confirm_password:{required:!0,minlength:3,maxlength:20,equalTo:"#appendbutton"}},messages:{username:{required:"Username is required",maxlength:"Maximum is 255 characters"},old_password:{minlength:"Minimum is 3 characters",maxlength:"Maximum is 20 characters"},password:{required:"Password is required",minlength:"Minimum is 3 characters",maxlength:"Maximum is 20 characters"},confirm_password:{required:"Confirm Password is required",minlength:"Minimum is 3 characters",maxlength:"Maximum is 20 characters",equalTo:"Must match with Password field"}},highlight:function(e){$(e).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error").addClass("has-success")},errorElement:"span",errorClass:"help-block",errorPlacement:function(e,i){i.parent(".input-group").length?e.insertAfter(i.parent()):e.insertAfter(i)},submitHandler:function(e){var i=[];return $("#permissions").find(".permission").each(function(){group=$(this);var e=group.attr("id");i[e]=[],group.find('input[type="checkbox"]').each(function(){$(this).is(":checked")?i[e].push(1):i[e].push(0)})}),permissions_json=Object.assign({},i),$.ajax({url:bUrl+"member/update",type:"POST",cache:!1,dataType:"json",data:{id:$('input[name="id"]').val(),username:$('input[name="username"]').val(),old_password:$('input[name="old_password"]').val(),password:$('input[name="password"]').val(),confirm_password:$('input[name="confirm_password"]').val(),thumbnail:$("input[name=thumbnail]").val(),status:$("input[name=status]:checked").val(),permissions:permissions_json,csrf_hash:$.cookie("csrf_cookie_ci")},success:function(e){showSmartAlert("Error",e.msg,"[YES]")},error:function(){showSmartAlert("Error","Can send data. Please contact to admin.","[YES]")}}),!1}})}