if($(idTableList).length>0){var statusStr=":All;active:Active;inactive:Inactive";caption=captionButton(!0,!0),jQuery(idTableList).jqGrid({url:bUrl+currentModule.url+"/ajax_list?q=2",datatype:"json",height:"auto",autowidth:!0,shrinkToFit:!1,gridResize:!0,autoResizeAllColumns:!0,iconSet:"fontAwesome",colNames:["Status","Tiêu đề","Thứ tự","Hình","Action"],colModel:[{name:"status",index:"status",align:"center",width:"80",stype:"select",searchoptions:{sopt:["eq"],value:statusStr}},{name:"title",index:"title",align:"left",search:!0,width:"450"},{name:"order",index:"order",align:"center",search:!0,width:"60",editable:!0,editoptions:{dataInit:function(t){setTimeout(function(){$(t).numeric()},100)}}},{name:"thumbnail",index:"thumbnail",align:"center",search:!1,width:"100"},{name:"act",index:"act",editable:!1,search:!1,width:"80",align:"center"}],rownumbers:!0,rowNum:defaultNumRows,rowList:[10,20,defaultNumRows],pager:idPager,sortname:"id",sortorder:"desc",toolbarfilter:!0,viewrecords:!0,gridComplete:function(){for(var t=jQuery(idTableList).jqGrid("getDataIDs"),e=0;e<t.length;e++){var a=t[e],i=jQuery(idTableList).jqGrid("getRowData",a),r="",r=formatButton(a,i.status,"btnStatus_","btnStatus","modalStatus"),n="";""!=i.thumbnail&&(n='<img src="'+i.thumbnail+'" class="thumbInTable" />');var l=btnEditInline(a)+bntDeleteInline(a);jQuery(idTableList).jqGrid("setRowData",t[e],{status:r,thumbnail:n,act:l})}click_btnInGrid("btnStatus","modalStatus",bUrl+currentModule.url+"/ajax_status",function(){location.reload()})},ajaxRowOptions:{async:!0},caption:caption,multiselect:!0,loadBeforeSend:function(){$(this).closest("div.ui-jqgrid-view").find("table.ui-jqgrid-htable>thead>tr>th").css({"text-align":"center"})},onSelectRow:function(t){}}),tableCommon(),$("body").on("click",".btnDelete",function(t){t.preventDefault(),href=$(this).attr("href"),showSmartAlert("Warning","<p>Are you sure delete this data ?</p>","[YES][NO]",function(){window.location.href=href},function(){})}),$("body").on("click","#btnMultiDelete",function(t){t.preventDefault(),href=$(this).attr("href"),selectedRows=jQuery(idTableList).jqGrid("getGridParam","selarrrow"),0==selectedRows.length?showSmartAlert("Error","Please select data.","[YES]"):showSmartAlert("Warning","<p>Are you sure delete this data ?</p>","[YES][NO]",function(){$("#ids").val(selectedRows),$("#frmTopButtons").submit()},function(){})}),$(".tree").find("span").each(function(){$(this).click(function(){var t=$(this).attr("data-path"),e='{"groupOp":"AND", "rules":[{"field":"path","op":"cn","data": "'+t+'"}]}';jQuery(idTableList).jqGrid("setGridParam",{datatype:"json",postData:{filters:e},search:!0}).trigger("reloadGrid")})}),$("a.groupFancyBox").fancybox()}if($("#frmNews").length>0){gen_url($('input[name="title"]'),$('input[name="url"]')),$('input[name="title"]').limit("200","#title_limit"),$('input[name="url"]').limit("200","#url_limit"),$('textarea[name="desc"]').limit("1000","#desc_limit");var editor=CKEDITOR.replace("detail",{entities_latin:!1,entities_greek:!1,toolbar:"Full"});selectFile(".btnSelectThumbnail","images"),$("body").on("click",".thumbnailDel",function(t){t.preventDefault(),thumbnailWrapper=$(this).parent(".thumbnailItem").parent(".thumbnailWrapper"),inputThumbnail=thumbnailWrapper.prev().children(".inputThumbnail"),inputThumbnail.val(""),thumbnailWrapper.html("").html(defaultIMG)});var validator=$("#frmNews").validate({rules:{title:{required:!0,maxlength:200},url:{required:!0,maxlength:200},desc:{maxlength:1e3}},messages:{title:{required:"Tiêu đề bắt buộc nhập",maxlength:"Tối đa 200 ký tự"},url:{required:"URL bắt buộc nhập",maxlength:"Tối đa 200 ký tự"},desc:{maxlength:"Tối đa 1000 ký tự"}},highlight:function(t){$(t).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(t){$(t).closest(".form-group").removeClass("has-error").addClass("has-success")},errorElement:"span",errorClass:"help-block",errorPlacement:function(t,e){e.parent(".input-group").length?t.insertAfter(e.parent()):t.insertAfter(e)},submitHandler:function(t){return $.ajax({url:bUrl+"news/update",type:"POST",cache:!1,dataType:"json",data:{csrf_hash:$.cookie("csrf_cookie_ci"),id:$('input[name="id"]').val(),title:$('input[name="title"]').val(),url:$('input[name="url"]').val(),desc:$('textarea[name="desc"]').html(),thumbnail:$('input[name="thumbnail"]').val(),order:$('input[name="order"]').val(),status:$('input[name="status"]:checked').val(),detail:editor.getData()},success:function(t){1==t.err?showSmartAlert("Error",t.msg,"[YES]"):window.location.href=bUrl+currentModule.url},error:function(){showSmartAlert("Error","Can send data. Please contact to admin.","[YES]")}}),!1}})}